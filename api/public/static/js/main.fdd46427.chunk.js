(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{228:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(20),o=a.n(r),c=(a(88),a(68)),s=a(69),l=a(81),m=a(70),u=a(82),d=a(71),p=a(77),g=a.n(p),h=a(80),w=a.n(h),f=a(74),E=a.n(f),v=a(40),b=a.n(v),k=a(42),R=a.n(k),S=a(41),y=a.n(S),O=a(78),C=a.n(O),I=a(76),j=a.n(I),x=a(79),N=a.n(x),T=a(7),W=a.n(T),D=a(72),_=a.n(D),F=a(73),U=a.n(F),q=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={redirect:!1,email:"",password:"",clientID:"",redirectURI:"",stateString:""},a.login=function(e){e.preventDefault(),console.log(a.state);var t=a.state,n=t.email,i=t.password;U.a.post("/login",{email:n,password:i}).then(function(e){200!==e.status?(a.setState({email:"",password:"",redirect:!1}),alert("ERROR")):(console.log(e.data.token),a.setState({accessToken:e.data.token,redirect:!0}))},function(){a.setState({email:"",password:"",redirect:!1}),alert("ERROR")})};var n=_.a.parse(window.location.search),i=n.client_id,r=n.redirect_uri,o=n.state;return console.log(i,r,o),a.state={clientID:i,redirectURI:r,stateString:o},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;if(this.state.redirect){var a=this.state,n=a.redirectURI,r=a.stateString,o=a.accessToken;alert(o);var c="".concat(n,"#access_token=").concat(o,"&token_type=bearer&state=").concat(r);return window.location=c,i.a.createElement("h2",null,"Redirecting...")}return i.a.createElement("main",{className:t.main},i.a.createElement(E.a,null),i.a.createElement(j.a,{className:t.paper},i.a.createElement(g.a,{className:t.avatar},i.a.createElement(C.a,null)),i.a.createElement(N.a,{component:"h1",variant:"h5"},"Connect to Google Smart Home"),i.a.createElement("form",{className:t.form,onSubmit:this.login},i.a.createElement(b.a,{margin:"normal",required:!0,fullWidth:!0},i.a.createElement(y.a,{htmlFor:"email"},"Email Address"),i.a.createElement(R.a,{onChange:function(t){e.setState({email:t.target.value})},id:"email",name:"email",autoComplete:"email",autoFocus:!0})),i.a.createElement(b.a,{margin:"normal",required:!0,fullWidth:!0},i.a.createElement(y.a,{htmlFor:"password"},"Password"),i.a.createElement(R.a,{onChange:function(t){e.setState({password:t.target.value})},name:"password",type:"password",id:"password",autoComplete:"current-password"})),i.a.createElement(w.a,{onSubmit:this.login,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign in & Authorize"))))}}]),t}(n.Component),A=W()(function(e){return{main:Object(d.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},83:function(e,t,a){e.exports=a(228)},88:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.fdd46427.chunk.js.map